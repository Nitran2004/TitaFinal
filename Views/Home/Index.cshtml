@model IEnumerable<ProyectoIdentity.Models.Producto>
@{
    ViewData["Title"] = "Inicio - Categorías";
}

<style>
  /* --------- Menú de Categorías --------- */
  .category-nav {
    position: sticky; top: 0; background: #fff;
    padding: 8px 0; box-shadow: 0 2px 6px rgba(0,0,0,0.1); z-index: 100;
  }
  .category-container {
    display: flex; overflow-x: auto; gap: 16px; padding: 0 24px;
    scroll-behavior: smooth;
  }
  .category-container::-webkit-scrollbar { height:6px; }
  .category-container::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius:3px; }
  .category-btn {
    flex:0 0 auto; display:flex; flex-direction:column; align-items:center;
    border:none; background:transparent; cursor:pointer;
    padding:6px 12px; transition:color .2s,transform .2s; color:#555;
  }
  .category-btn i { font-size:1.4rem; margin-bottom:4px; transition:transform .2s; }
  .category-btn span { font-size:.85rem; white-space:nowrap; }
  .category-btn.active,
  .category-btn:hover { color:#28a745; transform:translateY(-3px); }
  .category-btn.active i,
  .category-btn:hover i { transform:scale(1.2); }
  .category-btn.active::after {
    content:''; display:block; width:100%; height:3px;
    background:linear-gradient(90deg,#ffc107,#28a745);
    border-radius:2px; margin-top:6px; animation:indicator-in .3s ease-out;
  }
  keyframes indicator-in { from{width:0} to{width:100%} }
  media(max-width:576px){ .category-btn i{font-size:1.2rem} .category-btn span{font-size:.75rem} }

  /* Imagen de bienvenida */
  .welcome-container {
    position: relative;
    margin: 40px auto;
    max-width: 800px;
    text-align: center;
  }
  .welcome-image {
    width: 100%;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  }
  .welcome-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    text-shadow: 0 2px 6px rgba(0,0,0,0.5);
    padding: 24px;
    background: rgba(0,0,0,0.4);
    border-radius: 12px;
    width: 80%;
  }
  .welcome-text h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 16px;
  }
  .welcome-text p {
    font-size: 1.2rem;
    margin-bottom: 24px;
  }
  .btn-explore {
    background: linear-gradient(45deg, #28a745, #20c997);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .btn-explore:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.2);
    color: white;
  }
</style>

<h1 class="text-center mt-4">Bienvenido, selecciona una categoría</h1>

<nav class="category-nav">
  <div class="category-container">
    <a href="/Productos/SeleccionMultiple" class="category-btn">
      <i class="fas fa-layer-group"></i>
      <span>Todas</span>
    </a>
    <a href="/Productos/SeleccionMultiple?categoria=Pizza" class="category-btn">
      <i class="fas fa-pizza-slice"></i>
      <span>Pizza</span>
    </a>
    <a href="/Productos/SeleccionMultiple?categoria=Cerveza" class="category-btn">
      <i class="fas fa-beer"></i>
      <span>Cerveza</span>
    </a>
    <a href="/Productos/SeleccionMultiple?categoria=Cocteles" class="category-btn">
      <i class="fas fa-cocktail"></i>
      <span>Cocteles</span>
    </a>
    <a href="/Productos/SeleccionMultiple?categoria=Bebidas" class="category-btn">
      <i class="fas fa-glass-whiskey"></i>
      <span>Bebidas</span>
    </a>
    <a href="/Productos/SeleccionMultiple?categoria=Promo" class="category-btn">
      <i class="fas fa-percentage"></i>
      <span>Promo</span>
    </a>
    <a href="/Productos/SeleccionMultiple?categoria=Sánduches" class="category-btn">
      <i class="fas fa-hamburger"></i>
      <span>Sánduches</span>
    </a>
    <a href="/Productos/SeleccionMultiple?categoria=Shot" class="category-btn">
      <i class="fas fa-wine-glass-alt"></i>
      <span>Shot</span>
    </a>
    <a href="/Productos/SeleccionMultiple?categoria=Picadas" class="category-btn">
      <i class="fas fa-cheese"></i>
      <span>Picadas</span>
    </a>
  </div>
</nav>

<div class="welcome-container">
  <img src="/img/welcome-background.jpg" alt="Bienvenido" class="welcome-image" onerror="this.src='https://via.placeholder.com/800x400/28a745/FFFFFF?text=Bienvenido+a+nuestro+menú'">
  <div class="welcome-text">
    <h1>Explora Nuestras Categorías</h1>
    <p>Selecciona una categoría arriba para ver nuestros productos</p>
    <a href="/Productos/SeleccionMultiple" class="btn btn-explore">Ver Todo el Menú</a>
  </div>
</div>

@section Scripts {
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Destacar la categoría seleccionada si viene de un parámetro
    const urlParams = new URLSearchParams(window.location.search);
    const currentCategory = urlParams.get('categoria');
    
    if (currentCategory) {
      const categoryButtons = document.querySelectorAll('.category-btn');
      categoryButtons.forEach(btn => {
        const btnCategory = btn.getAttribute('href').split('=')[1];
        if (btnCategory === currentCategory) {
          btn.classList.add('active');
        }
      });
    }
    
    // Animación suave al hacer scroll a categorías
    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        // Guardar la categoría seleccionada en localStorage para que
        // la página de SeleccionMultiple pueda activar esa pestaña
        const categoria = this.getAttribute('href').split('=')[1] || 'todas';
        localStorage.setItem('selectedCategory', categoria);
      });
    });
  });
</script>
}